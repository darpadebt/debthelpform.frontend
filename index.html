<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DHF ‚Äî 60‚ÄëSecond Consolidation Loan Eligibility Check</title>
  <meta name="description" content="Answer a few quick questions to see if you may qualify for a debt consolidation loan. Secure & confidential. No obligation." />
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet"/>
  <style>
    :root{ --bg:#f8fafc; --surface:#ffffff; --text:#0f172a; --muted:#475569; --brand:#0ea5e9; --brand-2:#22c55e; --ring: rgba(14,165,233,.25); --radius: 18px; --shadow: 0 10px 30px rgba(2,6,23,.08); }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif;background:var(--bg);color:var(--text)}
    body.nav-open{overflow:hidden}
    .shell{max-width:1000px;margin:0 auto;padding:10px 16px 120px}

    /* === Responsive site navigation === */
    .site-nav{
      position:sticky;
      top:0;
      margin-top:calc(10px + env(safe-area-inset-top, 0px));
      z-index:1000;
      background:rgba(255,255,255,.98);
      backdrop-filter:saturate(120%) blur(6px);
      border:1px solid #e2e8f0;
      border-radius:24px;
      padding:10px 14px;
      display:flex;
      align-items:center;
      gap:14px;
      margin-bottom:16px;
      box-shadow:var(--shadow);
    }
    .site-nav .brand{
      font-weight:800;
      text-decoration:none;
      color:var(--text);
      font-size:17px;
      display:flex;
      align-items:center;
      gap:6px;
      flex:0 0 auto;
    }
    .site-nav .brand img{
      height:52px;
      width:auto;
      display:block;
    }
    .site-nav .links{
      display:flex;
      align-items:center;
      gap:10px;
      flex:1 1 auto;
      flex-wrap:wrap;
      margin-left:auto;
      justify-content:flex-end;
    }
    .site-nav .links a{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding:8px 12px;
      border-radius:12px;
      background:#f1f5f9;
      color:var(--text);
      text-decoration:none;
      font-weight:600;
      font-size:14px;
      border:1px solid #e2e8f0;
      transition:background .15s ease, color .15s ease;
    }
    /* Defensive hide for any lingering Blog link variants */
    .site-nav .links a[href="/blog"],
    .site-nav .links a[href="/blog/"],
    .site-nav .links a[href="/blog.html"]{display:none!important}
    .site-nav .links a:hover{background:#e2e8f0}
    .site-nav .links a:focus-visible{outline:2px solid var(--brand);outline-offset:2px;border-radius:10px}
    .site-nav .links a.call{
      background:linear-gradient(135deg,var(--brand),var(--brand-2));
      color:#fff;
      border-color:transparent;
      font-weight:700;
      box-shadow:0 8px 18px var(--ring);
    }
    .site-nav .links a.call:hover{opacity:.95}
    .menu-toggle{
      border:none;
      background:#0f172a;
      color:#fff;
      border-radius:10px;
      padding:8px 10px;
      font-weight:700;
      font-size:14px;
      cursor:pointer;
      display:none;
      margin-left:auto;
    }
    .menu-toggle:focus-visible{outline:2px solid var(--brand);outline-offset:2px}
    @media (max-width:860px){
      .site-nav{flex-wrap:wrap;gap:10px}
      .site-nav .links{order:3;width:100%;display:none;flex-direction:column;align-items:stretch;justify-content:flex-start;margin-left:0;border-radius:18px;background:#fff;padding:8px 4px;border:1px solid #e2e8f0;box-shadow:var(--shadow)}
      .site-nav .links.open{display:flex}
      .site-nav .links a{justify-content:flex-start;font-size:15px;background:transparent;border:none;padding:10px 14px;border-radius:10px}
      .site-nav .links a:hover{background:#f1f5f9}
      .site-nav .links a.call{justify-content:center;border:none}
      .menu-toggle{display:inline-flex;align-items:center;gap:6px}
    }
    @media (max-width:640px){
      .site-nav{border-radius:20px;padding:10px 12px}
    }

    header.hero{background:var(--surface);border-radius:var(--radius);box-shadow:var(--shadow);padding:24px;margin:32px 0 12px}
    header .h1{font-size:26px;line-height:1.2;margin:0 0 8px;font-weight:800}
    header .sub{color:var(--muted);font-size:15px;margin-bottom:16px}
    .badges{display:flex;gap:10px;flex-wrap:wrap}
    .badge{font-size:12px;padding:6px 10px;border-radius:999px;background:#e2f2fb;color:#0369a1;text-decoration:none}
    .primary{display:inline-flex;align-items:center;justify-content:center;gap:8px;background:linear-gradient(90deg,var(--brand),#38bdf8);color:#fff;border:none;border-radius:999px;padding:14px 18px;font-weight:700;font-size:16px;cursor:pointer;box-shadow:0 8px 18px var(--ring)}
    .primary:active{transform:translateY(1px)}
    .progress{height:6px;background:#e2e8f0;border-radius:999px;margin:18px 0 6px;overflow:hidden}
    .progress>i{display:block;height:100%;width:0;background:linear-gradient(90deg,var(--brand),var(--brand-2))}
    .card{background:var(--surface);border-radius:var(--radius);box-shadow:var(--shadow);padding:18px;margin:12px 0}
    .prompt{font-size:20px;font-weight:700;margin:8px 0 16px}
    .muted{color:var(--muted);font-size:13px}
    .choices{display:grid;grid-template-columns:1fr;gap:10px}
    .choice{border:1px solid #e2e8f0;border-radius:14px;padding:14px 12px;font-weight:600;background:#fff;cursor:pointer;display:flex;justify-content:space-between;align-items:center}
    .choice:hover{border-color:#bae6fd}
    .choice.active{border-color:#38bdf8;background:#f0f9ff}
    .controls{display:flex;gap:10px;margin-top:14px}
    .next{background:var(--brand);color:#fff;border:none;border-radius:12px;padding:12px 14px;font-weight:700;width:100%}
    .range{width:100%}
    .range input[type="range"]{width:100%}
    .range-labels{display:flex;justify-content:space-between;font-size:12px;color:var(--muted);margin-top:6px}
    .footer-sticky{position:fixed;left:0;right:0;bottom:0;background:rgba(255,255,255,.98);backdrop-filter:saturate(120%) blur(6px);border-top:1px solid #e2e8f0;padding:10px 14px;display:flex;align-items:center;justify-content:space-between;gap:8px}
    .trust{display:flex;align-items:center;gap:8px;color:#0369a1;font-weight:600;font-size:13px}
    .callnow{font-weight:800;color:#fff;background:var(--brand-2);border:none;border-radius:999px;padding:10px 14px;text-decoration:none}
    form{display:grid;gap:10px}
    input,select{width:100%;padding:12px 14px;border:1px solid #e2e8f0;border-radius:12px;font-size:16px}
    input:focus,select:focus{outline:none;border-color:#38bdf8;box-shadow:0 0 0 4px var(--ring)}
    .legal{font-size:12px;color:var(--muted)}
    .consent{display:flex;gap:8px;align-items:flex-start;font-size:12px;color:var(--muted);line-height:1.4}
    .consent input{margin-top:2px}
    .consent a{color:var(--brand);font-weight:600;text-decoration:none}
    .consent a:hover{text-decoration:underline}
    .hidden{display:none}
    .center{text-align:center}
    .calc{display:grid;gap:10px}
    .pill{display:inline-block;padding:6px 10px;border-radius:999px;background:#eef2ff;color:#3730a3;font-weight:700;font-size:12px}
    #leadStatus{margin:6px 0 0}
    #leadStatus[data-mode="error"]{color:#dc2626}
    #leadStatus[data-mode="warn"]{color:#b45309}
  </style>
  <script type="application/ld+json">
    {"@context":"https://schema.org","@type":["Organization","FinancialService"],"@id":"https://gatewaydebthelp.com/#gfsr","name":"Gateway Financial Settlement Relief, LLC","alternateName":["GFSR","Gateway Debt Help","Debt Help Form"],"url":"https://debthelpform.com/","telephone":"+1-888-437-7141","sameAs":["https://debthelpform.com/","https://debtreliefguard.com/","https://gatewaydebthelp.com/","https://gatewayfinancialsettlementrelief.com/"],"disambiguatingDescription":"Not affiliated with Gateway Debt Relief of Costa Mesa, CA."}
  </script>
</head>
<body>
  <div class="shell">

    <nav class="site-nav" role="navigation" aria-label="Primary">
      <a class="brand" href="/" aria-label="Gateway Debt Help">
        <img src="/gatewaylego.webp" alt="Gateway Debt Help logo" loading="lazy" />
      </a>
      <button class="menu-toggle" id="navToggle" aria-expanded="false" aria-controls="navLinks">Menu</button>
      <div class="links" id="navLinks">
        <a href="/">Home</a>
        <a href="/relief.html">Relief Options</a>
        <a href="/about.html">About</a>
        <a href="/faq.html">FAQ</a>
        <a href="/calculator.savings.html">Debt Calculator</a>
        <a href="/contact.html">Contact</a>
        <a href="/privacy.html">Privacy</a>
        <a href="/terms.html">Terms</a>
        <a class="call" href="tel:+18884377141">Call +1 (888) 437‚Äë7141</a>
      </div>
    </nav>

    <header class="hero" id="entry">
      <div class="h1">See if you may qualify for a debt consolidation loan ‚Äî in about 60 seconds</div>
      <div class="sub">Answer a few quick questions to preview your options. Secure & confidential. No obligation.</div>
      <div id="get-started">
        <button class="primary" id="startBtn">Start my free eligibility check</button>
      </div>
      <div class="badges" style="margin-top:12px">
        <span class="badge">Secure & Confidential</span>
        <span class="badge">No Obligation</span>
        <span class="badge">Mobile Friendly</span>
      </div>
    </header>

    <!-- Trust row with BBB link (non-member profile) -->
    <div class="card" aria-label="Trust signals">
      <div class="muted" style="display:flex;gap:10px;flex-wrap:wrap;align-items:center">
        <a href="https://www.bbb.org/us/fl/inglis/profile/debt-relief-services/gateway-financial-settlement-relief-llc-0733-235973278" target="_blank" rel="noopener nofollow" class="badge" style="background:#eef2ff;color:#1e3a8a">BBB Profile ‚Äî A‚Äì rating</a>
        <span class="badge">FTC‚Äëaligned ‚Ä¢ No upfront fees</span>
        <span class="badge">Secure & Confidential</span>
      </div>
    </div>

    <div class="card hidden" id="survey">
      <div class="progress"><i id="progressBar"></i></div>
      <div class="muted" id="stepLabel">Step 1 of 5</div>
      <div id="stepMount"></div>
      <div class="muted" style="margin-top:8px">Secure & confidential. No obligation.</div>
    </div>

    <div class="card hidden" id="leadGate">
      <div class="prompt">Thanks! Based on your answers, you may qualify for a consolidation loan.</div>
      <div class="muted">Where should we send your free results?</div>
      <form id="leadForm" autocomplete="on">
        <input type="text" name="first" placeholder="First name" required />
        <input type="email" name="email" placeholder="Email" required inputmode="email" />
        <input type="tel" name="phone" placeholder="Phone" required inputmode="tel" />
        <input type="text" name="zip" placeholder="ZIP code" required inputmode="numeric" pattern="\d{5}" />
        <input type="text" name="hp" id="hp" class="hidden" tabindex="-1" autocomplete="off" />
        <input type="hidden" name="form_ts" id="form_ts" />
        <label class="consent">
          <input type="checkbox" name="consent_terms" required />
          <span>I agree to the <a href="/terms.html" target="_blank" rel="noopener">Terms</a> and <a href="/privacy.html" target="_blank" rel="noopener">Privacy Policy</a>.</span>
        </label>
        <label class="consent">
          <input type="checkbox" name="consent_marketing" value="yes" />
          <span>It‚Äôs okay to contact me about debt relief options by phone, email, or text.</span>
        </label>
        <button class="primary" type="submit">See my options</button>
        <p class="muted hidden" id="leadStatus" role="status" aria-live="polite"></p>
      </form>
    </div>

    <div class="card hidden" id="results">
      <div class="prompt">Here‚Äôs what people like you often see when consolidating</div>
      <div class="calc">
        <div><span class="pill" id="calcDebt">$‚Äî</span> total debt</div>
        <div>Estimated consolidated payment range: <strong id="calcPayment">$‚Äî / mo</strong></div>
        <div class="muted">Estimates are examples, not guarantees. Your terms depend on lender review.</div>
        <div class="controls">
          <a id="callCta" class="callnow" href="#">Call now</a>
          <button class="next" id="doneBtn">Back to start</button>
        </div>
      </div>
    </div>

  </div>

  <div class="footer-sticky">
    <div class="trust">üîí Secure & Confidential</div>
    <a class="callnow" id="stickyCall" href="tel:+18884377141">Call Now</a>
    <a href="https://www.bbb.org/us/fl/inglis/profile/debt-relief-services/gateway-financial-settlement-relief-llc-0733-235973278" target="_blank" rel="noopener nofollow" class="muted" style="font-size:12px;text-decoration:none">BBB Profile</a>
  </div>

  <footer class="card" style="max-width:1000px;margin:10px auto 140px;padding:14px">
    <div class="muted" style="font-size:12px;line-height:1.5">
      ¬© <span id="y"></span> DebtHelpForm.com ‚Äî a service of Gateway Financial Settlement Relief, LLC (GFSR). Not affiliated with ‚ÄúGateway Debt Relief‚Äù of Costa Mesa, CA.
      <span style="margin-left:6px">‚Ä¢</span>
      <a href="/privacy.html" class="muted" style="text-decoration:underline">Privacy</a>
      <span>‚Ä¢</span>
      <a href="/terms.html" class="muted" style="text-decoration:underline">Terms</a>
      <span>‚Ä¢</span>
      <a href="https://www.bbb.org/us/fl/inglis/profile/debt-relief-services/gateway-financial-settlement-relief-llc-0733-235973278" target="_blank" rel="noopener nofollow" class="muted" style="text-decoration:underline">BBB Profile (A‚Äì)</a>
    </div>
  </footer>

  <script>
  const CONFIG = { LEAD_ENDPOINT: "/api/mesh/036-lead-router/ingest", SITE_TAG: "DHF", CALL_NUMBER: "+1 (888) 437-7141" };
  const state = { step: 0, answers: { debt_amount: null, debt_type: [], payment_status: null, credit_band: null, state: null, income_band: null } };

  const UTM_PARAMS = (() => {
    const params = new URLSearchParams(window.location.search);
    const out = {};
    params.forEach((value, key) => {
      if (!value) return;
      const normalizedKey = key.trim().toLowerCase();
      if (!normalizedKey) return;
      if (/^(utm_[a-z0-9_]+|gclid|msclkid|fbclid|ttclid|yclid)$/.test(normalizedKey)) {
        out[normalizedKey] = value.trim();
      }
    });
    return out;
  })();

  const LANDING_CONTEXT = {
    path: window.location.pathname,
    query: window.location.search || "",
    referrer: document.referrer || null
  };
    
  // === Responsive navigation toggle ===
  (function(){
    const toggle = document.getElementById('navToggle');
    const links  = document.getElementById('navLinks');
      if(!toggle || !links) return;

      // Remove any blog-related links that may have been cached into the nav
      links.querySelectorAll('a').forEach((link) => {
        const label=(link.textContent||'').trim().toLowerCase();
        const href=(link.getAttribute('href')||'').toLowerCase();
        if(label==='blog' || href==='/blog' || href==='/blog/' || href==='/blog.html'){
          link.remove();
        }
      });

    function setOpen(open){
      toggle.setAttribute('aria-expanded', open ? 'true' : 'false');
      links.classList.toggle('open', open);
      document.body.classList.toggle('nav-open', open);
    }

    toggle.addEventListener('click', () => {
      const isOpen = toggle.getAttribute('aria-expanded') === 'true';
      setOpen(!isOpen);
    });

    links.addEventListener('click', (event) => {
      const target = event.target;
      if(target instanceof HTMLElement && target.tagName === 'A'){
        setOpen(false);
      }
    });
    
    document.addEventListener('click', (event) => {
      const isOpen = toggle.getAttribute('aria-expanded') === 'true';
      if(!isOpen) return;
      if(event.target instanceof Node && !links.contains(event.target) && event.target !== toggle){
        setOpen(false);
      }
    });

    document.addEventListener('keydown', (event) => {
      if(event.key === 'Escape'){
        setOpen(false);
      }
    });

    window.matchMedia('(min-width: 861px)').addEventListener('change', (mq) => {
      if(mq.matches){
        setOpen(false);
      }
    });
  })();

  const steps = [
    function mountDebtAmount($){ $.innerHTML = `
      <div class="prompt">About how much debt are you looking to roll into one payment?</div>
      <div class="range">
        <input id="rngDebt" type="range" min="0" max="4" step="1" value="1" />
        <div class="range-labels"><span>Under $10k</span><span>$10‚Äì20k</span><span>$20‚Äì40k</span><span>$40‚Äì60k</span><span>$60k+</span></div>
      </div>
      <div class="controls"><button class="next" id="next">Next</button></div>`;
      document.getElementById('next').onclick = ()=>{ const v = +document.getElementById('rngDebt').value; state.answers.debt_amount = ["<10k","10-20k","20-40k","40-60k",">60k"][v]; advance(); } },
    function mountDebtType($){ $.innerHTML = `
      <div class="prompt">Which debts do you want to combine into one simpler payment?</div>
      <div class="choices" id="choices"></div>
      <div class="controls"><button class="next" id="next" disabled>Next</button></div>`;
      const items = ["Credit cards","Personal loans","Medical bills","Other unsecured debt"]; const sel = new Set(); const box = document.getElementById('choices'); const nextBtn = document.getElementById('next');
      items.forEach(label=>{ const el = document.createElement('div'); el.className = 'choice'; el.textContent = label; el.onclick = ()=>{ if(sel.has(label)){ sel.delete(label); el.classList.remove('active'); } else { sel.add(label); el.classList.add('active'); } nextBtn.disabled = sel.size===0; }; box.appendChild(el); });
      nextBtn.onclick = ()=>{ state.answers.debt_type = Array.from(sel); advance(); } },
    function mountPayCredit($){ $.innerHTML = `
      <div class="prompt">Are you mostly keeping up with payments, or have you missed some?</div>
      <div class="choices" id="pay"></div>
      <div class="prompt" style="margin-top:18px">If you know your credit score, which range sounds about right?</div>
      <div class="choices" id="cred"></div>
      <div class="controls"><button class="next" id="next">Next</button></div>`;
      const pay = ["I‚Äôm current on payments","Missed 1‚Äì2 months","3+ months behind"], cred = ["720+","660‚Äì719","600‚Äì659","Below 600","Not sure"]; let payPick=null, credPick=null;
      function radio(id, items, on){ const box = document.getElementById(id); items.forEach(label=>{ const el = document.createElement('div'); el.className='choice'; el.textContent=label; el.onclick=()=>{ Array.from(box.children).forEach(c=>c.classList.remove('active')); el.classList.add('active'); on(label); }; box.appendChild(el); }); }
      radio('pay', pay, v=> payPick=v); radio('cred', cred, v=> credPick=v);
      document.getElementById('next').onclick = ()=>{ state.answers.payment_status = payPick; state.answers.credit_band = credPick; advance(); } },
    function mountState($){ $.innerHTML = `
      <div class="prompt">Where do you live?</div>
      <select id="selState" required></select>
      <div class="controls"><button class="next" id="next">Next</button></div>`;
      const states = ["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"];
      const sel = document.getElementById('selState'); sel.innerHTML = '<option value="" disabled selected>Select your state</option>' + states.map(s=>`<option>${s}</option>`).join('');
      document.getElementById('next').onclick = ()=>{ state.answers.state = sel.value || null; showLeadGate(); } }
  ];

  const entry = document.getElementById('entry'); const survey = document.getElementById('survey'); const mount = document.getElementById('stepMount'); const stepLabel = document.getElementById('stepLabel'); const bar = document.getElementById('progressBar'); const leadGate = document.getElementById('leadGate'); const results = document.getElementById('results');
  const BASE_UTM = Object.keys(UTM_PARAMS).length ? UTM_PARAMS : undefined;

  function trackEvent(event_type, data = {}){
    console.debug('[telemetry]', event_type, data);
  }

  trackEvent('pageview');

  const startBtn = document.getElementById('startBtn');
  const callCta = document.getElementById('callCta');
  const stickyCall = document.getElementById('stickyCall');

  if(callCta){ callCta.addEventListener('click', ()=> trackEvent('cta_click', { cta: 'call_results' })); }
  if(stickyCall){ stickyCall.addEventListener('click', ()=> trackEvent('cta_click', { cta: 'call_sticky' })); }

  startBtn.addEventListener('click', ()=>{
    trackEvent('cta_click', { cta: 'start_survey' });
    startSurvey();
  });
  function startSurvey(){ entry.classList.add('hidden'); survey.classList.remove('hidden'); state.step = 0; updateProgress(); steps[state.step](mount); document.getElementById('form_ts').value = Date.now().toString(); }
  function advance(){ state.step++; if(state.step < steps.length){ updateProgress(); steps[state.step](mount);} else { showLeadGate(); } }
  function updateProgress(){ const total = steps.length; const n = state.step + 1; stepLabel.textContent = `Step ${n} of ${total}`; bar.style.width = `${(n/total)*100}%`; }
  function showLeadGate(){ survey.classList.add('hidden'); leadGate.classList.remove('hidden'); }

 // Lead submit -> 036 router
  const form = document.getElementById('leadForm');
  const statusEl = document.getElementById('leadStatus');
  const DEBT_RANGE_MAP = { "<10k": 8000, "10-20k":15000, "20-40k":30000, "40-60k":50000, ">60k":70000 };

  function setStatus(message, mode = 'info'){
    if(!statusEl) return;
    statusEl.textContent = message || '';
    statusEl.classList.toggle('hidden', !message);
    statusEl.dataset.mode = mode;
  }

  async function submitLead(payload){
    const res = await fetch(CONFIG.LEAD_ENDPOINT, {
      method: 'POST',
      headers: { 'content-type': 'application/json' },
      body: JSON.stringify(payload)
    });
    let data = null;
    try {
      data = await res.json();
    } catch(err){
      console.warn('Lead router response parse error', err);
    }
    if(!res.ok){
      const reason = data?.reason || data?.error || `HTTP ${res.status}`;
      throw new Error(reason);
    }
    return data;
  }

  form.addEventListener('submit', async (e)=>{
    e.preventDefault();
    const submitBtn = form.querySelector('button[type="submit"]');
    submitBtn?.setAttribute('disabled', 'true');
    setStatus('Submitting your details securely...');
    const fd = new FormData(form);
    const phone = (fd.get('phone')||'').toString().replace(/[^\d+]/g,'');
    const marketingValue = fd.get('consent_marketing');
    const marketingOptIn = typeof marketingValue === 'string'
      ? ['on', 'yes', 'true', '1'].includes(marketingValue.toLowerCase())
      : false;
    const consent = {
      terms: fd.get('consent_terms') === 'on',
      marketing: marketingOptIn,
      timestamp: new Date().toISOString()
    };
    const { state: stateAnswer, debt_amount: debtRange, ...restAnswers } = state.answers;
    const debtAmount = DEBT_RANGE_MAP[debtRange] || null;
    const payload = {
      name: (fd.get('first')||'').toString().trim(),
      email: (fd.get('email')||'').toString().trim(),
      phone,
      zip: (fd.get('zip')||'').toString().trim(),
      source: CONFIG.SITE_TAG,
      hp: (fd.get('hp')||'').toString(),
      form_ts: Number(fd.get('form_ts')||Date.now()),
      state: stateAnswer || null,
      debt_amount: debtAmount,
      meta: (() => {
        const meta = {
          entrypoint: 'home_survey',
          site_tag: CONFIG.SITE_TAG,
          landing: LANDING_CONTEXT,
          survey: {
            ...restAnswers,
            debt_amount_range: debtRange || null,
            state: stateAnswer || null
          }
        };
        if (BASE_UTM) {
          meta.utm_snapshot = BASE_UTM;
        }
        return meta;
      })(),
      utm: BASE_UTM,
      consent
    };
    try {
      const res = await submitLead(payload);
      const status = res?.status || 'accepted';
      if(status === 'accepted' || status === 'duplicate'){
        trackEvent('lead_router_result', { status, id: res?.id || null, variant: res?.variant || null });
        setStatus('');
        showResults();
      } else if (status === 'limited') {
        setStatus('We received your request but are temporarily limiting submissions. Please try again shortly.', 'warn');
      } else {
        const reason = res?.reason || 'Your request could not be completed. Please call us to finish your review.';
        setStatus(reason, 'error');
      }
    } catch(err){
      console.error('Lead router submission failed', err);
      setStatus('We could not submit your details. Please check your connection and try again.', 'error');
    } finally {
      submitBtn?.removeAttribute('disabled');
    }
  });

      function showResults(){ leadGate.classList.add('hidden'); results.classList.remove('hidden'); const debtNum = DEBT_RANGE_MAP[state.answers.debt_amount] || 15000; document.getElementById('calcDebt').textContent = new Intl.NumberFormat('en-US',{style:'currency',currency:'USD'}).format(debtNum); const apr=0.17, termMonths=60, rate=apr/12; const pmt=(debtNum*rate)/(1-Math.pow(1+rate,-termMonths)); const low=Math.round(pmt*0.75), high=Math.round(pmt*1.05); document.getElementById('calcPayment').textContent = `${fmt(low)} ‚Äì ${fmt(high)}`; const telHref = `tel:${CONFIG.CALL_NUMBER.replace(/[^\d+]/g,'')}`; if(callCta){ callCta.setAttribute('href', telHref); } if(stickyCall){ stickyCall.setAttribute('href', telHref); } }
  function fmt(n){ return new Intl.NumberFormat('en-US',{style:'currency',currency:'USD',maximumFractionDigits:0}).format(n); }
  document.getElementById('doneBtn').onclick = ()=>{ results.classList.add('hidden'); entry.classList.remove('hidden'); };
  document.getElementById('y').textContent = new Date().getFullYear();
  </script>
</body>
</html>
